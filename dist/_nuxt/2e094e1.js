(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{627:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(441),o=function(t){return r(t).utcOffset(7).format("DD-MM-YYYY HH:mm:ss")}},629:function(t,e,n){var map={"./af":457,"./af.js":457,"./ar":458,"./ar-dz":459,"./ar-dz.js":459,"./ar-kw":460,"./ar-kw.js":460,"./ar-ly":461,"./ar-ly.js":461,"./ar-ma":462,"./ar-ma.js":462,"./ar-sa":463,"./ar-sa.js":463,"./ar-tn":464,"./ar-tn.js":464,"./ar.js":458,"./az":465,"./az.js":465,"./be":466,"./be.js":466,"./bg":467,"./bg.js":467,"./bm":468,"./bm.js":468,"./bn":469,"./bn-bd":470,"./bn-bd.js":470,"./bn.js":469,"./bo":471,"./bo.js":471,"./br":472,"./br.js":472,"./bs":473,"./bs.js":473,"./ca":474,"./ca.js":474,"./cs":475,"./cs.js":475,"./cv":476,"./cv.js":476,"./cy":477,"./cy.js":477,"./da":478,"./da.js":478,"./de":479,"./de-at":480,"./de-at.js":480,"./de-ch":481,"./de-ch.js":481,"./de.js":479,"./dv":482,"./dv.js":482,"./el":483,"./el.js":483,"./en-au":484,"./en-au.js":484,"./en-ca":485,"./en-ca.js":485,"./en-gb":486,"./en-gb.js":486,"./en-ie":487,"./en-ie.js":487,"./en-il":488,"./en-il.js":488,"./en-in":489,"./en-in.js":489,"./en-nz":490,"./en-nz.js":490,"./en-sg":491,"./en-sg.js":491,"./eo":492,"./eo.js":492,"./es":493,"./es-do":494,"./es-do.js":494,"./es-mx":495,"./es-mx.js":495,"./es-us":496,"./es-us.js":496,"./es.js":493,"./et":497,"./et.js":497,"./eu":498,"./eu.js":498,"./fa":499,"./fa.js":499,"./fi":500,"./fi.js":500,"./fil":501,"./fil.js":501,"./fo":502,"./fo.js":502,"./fr":503,"./fr-ca":504,"./fr-ca.js":504,"./fr-ch":505,"./fr-ch.js":505,"./fr.js":503,"./fy":506,"./fy.js":506,"./ga":507,"./ga.js":507,"./gd":508,"./gd.js":508,"./gl":509,"./gl.js":509,"./gom-deva":510,"./gom-deva.js":510,"./gom-latn":511,"./gom-latn.js":511,"./gu":512,"./gu.js":512,"./he":513,"./he.js":513,"./hi":514,"./hi.js":514,"./hr":515,"./hr.js":515,"./hu":516,"./hu.js":516,"./hy-am":517,"./hy-am.js":517,"./id":518,"./id.js":518,"./is":519,"./is.js":519,"./it":520,"./it-ch":521,"./it-ch.js":521,"./it.js":520,"./ja":522,"./ja.js":522,"./jv":523,"./jv.js":523,"./ka":524,"./ka.js":524,"./kk":525,"./kk.js":525,"./km":526,"./km.js":526,"./kn":527,"./kn.js":527,"./ko":528,"./ko.js":528,"./ku":529,"./ku.js":529,"./ky":530,"./ky.js":530,"./lb":531,"./lb.js":531,"./lo":532,"./lo.js":532,"./lt":533,"./lt.js":533,"./lv":534,"./lv.js":534,"./me":535,"./me.js":535,"./mi":536,"./mi.js":536,"./mk":537,"./mk.js":537,"./ml":538,"./ml.js":538,"./mn":539,"./mn.js":539,"./mr":540,"./mr.js":540,"./ms":541,"./ms-my":542,"./ms-my.js":542,"./ms.js":541,"./mt":543,"./mt.js":543,"./my":544,"./my.js":544,"./nb":545,"./nb.js":545,"./ne":546,"./ne.js":546,"./nl":547,"./nl-be":548,"./nl-be.js":548,"./nl.js":547,"./nn":549,"./nn.js":549,"./oc-lnc":550,"./oc-lnc.js":550,"./pa-in":551,"./pa-in.js":551,"./pl":552,"./pl.js":552,"./pt":553,"./pt-br":554,"./pt-br.js":554,"./pt.js":553,"./ro":555,"./ro.js":555,"./ru":556,"./ru.js":556,"./sd":557,"./sd.js":557,"./se":558,"./se.js":558,"./si":559,"./si.js":559,"./sk":560,"./sk.js":560,"./sl":561,"./sl.js":561,"./sq":562,"./sq.js":562,"./sr":563,"./sr-cyrl":564,"./sr-cyrl.js":564,"./sr.js":563,"./ss":565,"./ss.js":565,"./sv":566,"./sv.js":566,"./sw":567,"./sw.js":567,"./ta":568,"./ta.js":568,"./te":569,"./te.js":569,"./tet":570,"./tet.js":570,"./tg":571,"./tg.js":571,"./th":572,"./th.js":572,"./tk":573,"./tk.js":573,"./tl-ph":574,"./tl-ph.js":574,"./tlh":575,"./tlh.js":575,"./tr":576,"./tr.js":576,"./tzl":577,"./tzl.js":577,"./tzm":578,"./tzm-latn":579,"./tzm-latn.js":579,"./tzm.js":578,"./ug-cn":580,"./ug-cn.js":580,"./uk":581,"./uk.js":581,"./ur":582,"./ur.js":582,"./uz":583,"./uz-latn":584,"./uz-latn.js":584,"./uz.js":583,"./vi":585,"./vi.js":585,"./x-pseudo":586,"./x-pseudo.js":586,"./yo":587,"./yo.js":587,"./zh-cn":588,"./zh-cn.js":588,"./zh-hk":589,"./zh-hk.js":589,"./zh-mo":590,"./zh-mo.js":590,"./zh-tw":591,"./zh-tw.js":591};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=629},648:function(t,e,n){var content=n(715);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("1344a521",content,!0,{sourceMap:!1})},714:function(t,e,n){"use strict";n(648)},715:function(t,e,n){var r=n(23)((function(i){return i[1]}));r.push([t.i,".wrap-text{white-space:normal!important;word-break:break-word!important}.row{flex:0 0}",""]),r.locals={},t.exports=r},739:function(t,e,n){"use strict";n.r(e);var r=n(437),o=n(429),c=n(642),l=n(736),h=n(735),m=n(641),f=n(194),j=n(432),d=n(731),v=n(614),k=n(52),y=n(225),x=(n(25),n(220),n(29)),w=(n(35),n(5),n(41),n(85),n(11),n(54),n(709),n(712),n(301),n(91),n(627)),_=n(713),D=n.n(_),T={data:function(){return{listyeucau:[],search:"",fromDate:"",toDate:"",fromMenu:!1,toMenu:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Stt",align:"start",sortable:!1,value:"STT"},{text:"Họ tên",value:"hovaten"},{text:"Khoa phòng",value:"khoaphong"},{text:"Vị trí",value:"vitri"},{text:"Điện thoại",value:"sodienthoai"},{text:"Chi tiết",value:"chitiet"},{text:"Chữ ký",value:"chuky"},{text:"Thời gian tạo",value:"thoigiantao"},{text:"Trạng thái",value:"trangthai"},{text:"Biện pháp",value:"lydo"},{text:"Người cập nhật",value:"nguoicapnhat"},{text:"Thời gian cập nhật",value:"thoigiancapnhat"},{text:"Chữ ký hoàn thành",value:"chuky2"}]}},created:function(){},mounted:function(){this.getListYeuCau()},methods:{getListYeuCau:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/getlistyeucau");case 3:n=e.sent,t.listyeucau=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getListYeuCau1:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/getlistyeucau1",{params:{TuNgay:t.fromDate,DenNgay:t.toDate}});case 3:n=e.sent,t.listyeucau=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},convertBase64ToImageUrl:function(t){return t?"string"==typeof t&&t.startsWith("data:image")?t:"data:image/png;base64,".concat(t):null},formatDateTime:function(t){return Object(w.a)(t)},getStatusColor:function(t){return"Chưa xác nhận"===t?"grey":"Đang thực hiện"===t?"yellow":"Hoàn thành"===t?"green":"Hủy"===t?"red":"default"},getStatusText:function(t){return"Chưa xác nhận"===t?"Chưa xác nhận":"Đang thực hiện"===t?"Đang thực hiện":"Hoàn thành"===t?"Hoàn thành":"Hủy"===t?"Hủy":t},editItem:function(t){this.$router.push({name:"editphieuyeucau",params:{id:t.id}})},exportToExcel:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,h,m,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Phieuyeucau".concat(t.formatDateTime(t.TuNgay),"_").concat(t.formatDateTime(t.DenNgay),".xlsx"),r=new D.a.Workbook,o=r.addWorksheet("Sheet1"),"dd/MM/yyyy",o.getColumn("D").numFmt="dd/MM/yyyy","##,###",o.getColumn("L").numFmt="##,###",o.addRow(["STT","Họ và tên","Khoa phòng","Vị trí","Số điện thoại","cChi tiết","Chữ ký 1","Thời gian tạo","Trạng thái","Biện pháp khắc phục","Người cập nhật","Thời gian cập nhật","Chữ ký 2"]),c={name:"Times New Roman",size:11},o.getRow(1).font=c,t.listyeucau.forEach((function(e){var n=new Date(e.thoigiantao),l=t.formatDateTime(n),h=new Date(e.thoigiancapnhat),m=t.formatDateTime(h),f=o.addRow([e.STT,e.hovaten,e.khoaphong,e.vitri,e.sodienthoai,e.chitiet,"",l,e.trangthai,e.lydo,e.nguoicapnhat,m,""]);if(f.font=c,e.chuky){var j=r.addImage({base64:e.chuky,extension:"png"});o.addImage(j,{tl:{col:6,row:f.number-1},ext:{width:100,height:50}})}if(e.chuky2){var d=r.addImage({base64:e.chuky2,extension:"png"});o.addImage(d,{tl:{col:12,row:f.number-1},ext:{width:100,height:50}})}})),e.next=13,r.xlsx.writeBuffer();case 13:l=e.sent,h=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),m=window.URL.createObjectURL(h),(a=document.createElement("a")).href=m,a.download=n,a.click();case 20:case"end":return e.stop()}}),e)})))()}}},C=(n(714),n(73)),component=Object(C.a)(T,(function(){var t=this,e=t._self._c;return e(r.a,[e(d.a,[e(j.a,{ref:"fromMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(v.a,t._g(t._b({attrs:{label:"Từ ngày","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},"v-text-field",o,!1),r))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[t._v(" "),e(h.a,{attrs:{max:t.toDate},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),t._v(" "),e(j.a,{ref:"toMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(v.a,t._g(t._b({attrs:{label:"Đến ngày","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},"v-text-field",o,!1),r))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[t._v(" "),e(h.a,{attrs:{min:t.fromDate},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),t._v(" "),e(d.a,[e(o.a,{staticClass:"mb-4 mr-4",attrs:{color:"blue lighten-2",dark:""},on:{click:t.getListYeuCau1}},[e(f.a,{attrs:{dark:""}},[t._v("mdi-search-web")])],1),t._v(" "),e(o.a,{staticClass:"mb-4 mr-4",attrs:{color:"teal lighten-1",dark:""},on:{click:t.exportToExcel}},[e(f.a,{attrs:{dark:""}},[t._v("mdi-file-excel")])],1)],1),t._v(" "),e(d.a,[e(l.a,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.listyeucau,search:t.search,"items-per-page":5},scopedSlots:t._u([{key:"item.actions",fn:function(n){var r=n.item;return[e(f.a,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("mdi-pencil")])]}},{key:"item.STT",fn:function(e){e.item;var n=e.index;return[t._v("\n         "+t._s(n+1)+"\n       ")]}},{key:"item.hovaten",fn:function(n){var r=n.item;return[e("div",{staticClass:"wrap-text"},[t._v("\n           "+t._s(r.hovaten)+"\n         ")])]}},{key:"item.chuky",fn:function(n){var r=n.item;return[e("img",{staticStyle:{"max-width":"100px","max-height":"50px"},attrs:{src:t.convertBase64ToImageUrl(r.chuky),alt:"Chữ ký"}})]}},{key:"item.thoigiantao",fn:function(e){var n=e.item;return[t._v("\n         "+t._s(t.formatDateTime(n.thoigiantao))+"\n       ")]}},{key:"item.thoigiancapnhat",fn:function(e){var n=e.item;return[t._v("\n         "+t._s(t.formatDateTime(n.thoigiancapnhat))+"\n       ")]}},{key:"item.trangthai",fn:function(n){var r=n.item;return[e(c.a,{attrs:{color:t.getStatusColor(r.trangthai),light:""}},[t._v("\n           "+t._s(t.getStatusText(r.trangthai))+"\n         ")])]}},{key:"item.chuky2",fn:function(n){var r=n.item;return[e("img",{staticStyle:{"max-width":"100px","max-height":"50px"},attrs:{src:t.convertBase64ToImageUrl(r.chuky2),alt:"Chữ ký"}})]}},{key:"top",fn:function(){return[e(k.a,{attrs:{flat:""}},[e(y.a,[t._v("Phiếu yêu cầu")]),t._v(" "),e(m.a,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),e(v.a,{attrs:{label:"Tìm kiếm","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e(o.a,{staticClass:"mb-4 mr-4",attrs:{color:"cyan lighten-3",dark:""},on:{click:t.getListYeuCau}},[e(f.a,{attrs:{dark:""}},[t._v(" mdi-refresh ")])],1)],1)]},proxy:!0},{key:"item.vitri",fn:function(n){var r=n.item;return[e("div",{staticClass:"wrap-text"},[t._v("\n           "+t._s(r.vitri)+"\n         ")])]}},{key:"item.sodienthoai",fn:function(n){var r=n.item;return[e("div",{staticClass:"wrap-text"},[t._v("\n           "+t._s(r.sodienthoai)+"\n         ")])]}},{key:"item.chitiet",fn:function(n){var r=n.item;return[e("div",{staticClass:"wrap-text"},[t._v("\n           "+t._s(r.chitiet)+"\n         ")])]}},{key:"item.lydo",fn:function(n){var r=n.item;return[e("div",{staticClass:"wrap-text"},[t._v("\n           "+t._s(r.lydo)+"\n         ")])]}},{key:"item.nguoicapnhat",fn:function(n){var r=n.item;return[e("div",{staticClass:"wrap-text"},[t._v("\n           "+t._s(r.nguoicapnhat)+"\n         ")])]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);